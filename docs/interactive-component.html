<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Interactive component | Covid-19 Data Analysis</title>
  <meta name="description" content="Chapter 5 Interactive component | Covid-19 Data Analysis" />
  <meta name="generator" content="bookdown 0.29 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Interactive component | Covid-19 Data Analysis" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Interactive component | Covid-19 Data Analysis" />
  
  
  

<meta name="author" content="Weipeng Li, Ruochen Zhang, Yujia Chen" />


<meta name="date" content="2022-12-14" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="results.html"/>
<link rel="next" href="conclusion.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">covidanalysis</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="proposal.html"><a href="proposal.html"><i class="fa fa-check"></i><b>2</b> Proposal</a>
<ul>
<li class="chapter" data-level="2.1" data-path="proposal.html"><a href="proposal.html#research-topic"><i class="fa fa-check"></i><b>2.1</b> Research topic</a></li>
<li class="chapter" data-level="2.2" data-path="proposal.html"><a href="proposal.html#data-availability"><i class="fa fa-check"></i><b>2.2</b> Data availability</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="proposal.html"><a href="proposal.html#the-who-coronavirus-covid-19-dashboard"><i class="fa fa-check"></i><b>2.2.1</b> The WHO coronavirus (COVID-19) dashboard</a></li>
<li class="chapter" data-level="2.2.2" data-path="proposal.html"><a href="proposal.html#u.s.-covid-19-data--jhu"><i class="fa fa-check"></i><b>2.2.2</b> U.S. COVID-19 Data- JHU</a></li>
<li class="chapter" data-level="2.2.3" data-path="proposal.html"><a href="proposal.html#national-bureau-of-statistics-of-china"><i class="fa fa-check"></i><b>2.2.3</b> National Bureau of Statistics of China</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>3</b> Data</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data.html"><a href="data.html#sources"><i class="fa fa-check"></i><b>3.1</b> Sources</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="data.html"><a href="data.html#who-covid-19-dashboard"><i class="fa fa-check"></i><b>3.1.1</b> WHO Covid-19 Dashboard</a></li>
<li class="chapter" data-level="3.1.2" data-path="data.html"><a href="data.html#cdc-data-for-covid-19"><i class="fa fa-check"></i><b>3.1.2</b> CDC Data for Covid-19</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data.html"><a href="data.html#cleaning-transformation"><i class="fa fa-check"></i><b>3.2</b> Cleaning / transformation</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data.html"><a href="data.html#covid-19-cases-and-deaths"><i class="fa fa-check"></i><b>3.2.1</b> Covid-19 Cases and Deaths</a></li>
<li class="chapter" data-level="3.2.2" data-path="data.html"><a href="data.html#distribution-by-time"><i class="fa fa-check"></i><b>3.2.2</b> Distribution by Time</a></li>
<li class="chapter" data-level="3.2.3" data-path="data.html"><a href="data.html#us-vaccination-data"><i class="fa fa-check"></i><b>3.2.3</b> US Vaccination Data</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data.html"><a href="data.html#missing-value-analysis"><i class="fa fa-check"></i><b>3.3</b> Missing value analysis</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="data.html"><a href="data.html#who-covid-19-dashboard-1"><i class="fa fa-check"></i><b>3.3.1</b> WHO Covid-19 dashboard</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>4</b> Results</a>
<ul>
<li class="chapter" data-level="4.1" data-path="results.html"><a href="results.html#global-spatial-data-for-cases-deaths"><i class="fa fa-check"></i><b>4.1</b> Global spatial data for cases &amp; deaths</a></li>
<li class="chapter" data-level="4.2" data-path="results.html"><a href="results.html#a-time-series-analysis-for-covid-19-cases-and-deaths"><i class="fa fa-check"></i><b>4.2</b> A Time Series Analysis for Covid-19 Cases and Deaths</a></li>
<li class="chapter" data-level="4.3" data-path="results.html"><a href="results.html#understanding-the-vaccination-in-the-us"><i class="fa fa-check"></i><b>4.3</b> Understanding the Vaccination in the US</a></li>
<li class="chapter" data-level="4.4" data-path="results.html"><a href="results.html#how-does-vaccination-influence-covid-19-cases"><i class="fa fa-check"></i><b>4.4</b> How Does Vaccination Influence Covid-19 Cases?</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>5</b> Interactive component</a></li>
<li class="chapter" data-level="6" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>6</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Covid-19 Data Analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="interactive-component" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">Chapter 5</span> Interactive component<a href="interactive-component.html#interactive-component" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Here we present an interactive version of the global weekly new reported cases from 2020.01 to 2022.11. When we hover the mouse on the data points, we cans ee the detailed date. In this way we can determine the date of the data points easily, especially for the peaks and troughs.</p>
<script src="https://d3js.org/d3.v7.js"></script>
<script>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Interactive D3</title>
    <script src="https://d3js.org/d3.v7.js">  </script>
</head>
<body>
<div>
<h3>
Interactive global weekly new reported cases from 2020.01 to 2022.11
</h3>
<p>
(Hover over points for dates.)
</p>
</div>
<script type="text/javascript">
 
      //Width and height
      var w = 1000;
      var h = 600;
      var margin = {top: 25, right: 50, bottom: 50, left: 150};
      var innerHeight = h - margin.top - margin.bottom;
      var innerWidth = w - margin.left - margin.right;

      // create SVG element
      var svg = d3.select("body")
          .append("svg")
            .attr("width", w)
            .attr("height", h);
            
      // create background rectangle
      svg.append("rect")
        .attr("width", w)
        .attr("height", h)
        .attr("fill", "#e7f5fe");
        
      // create caption
      d3.select("body")  
        .append("div")
          .style("padding", "10px")
        .append("a")
        .text("Data source: https://covid19.who.int/data");
        
      // create plot group  
      svg.append("g")
          .attr("id", "plot")
          .attr("transform", `translate (${margin.left}, ${margin.top})`);
          
const rowConverter = function (d) {
return { date:d.date_reported,

cases:+d.weekly_new_cases,

week:+d.week

}

};

d3.csv("https://raw.githubusercontent.com/5702-Final-Project-7/Covid-19-Data-Analysis/main/worldweekly.csv").then(function(data) {
  
  console.log(d3.min(data.map(d => d.week)));
  console.log(d3.max(data.map(d => d.week)));
  xScale = d3.scaleLinear()
                 .domain([0,155])
                 .range([0, innerWidth]);



yScale = d3.scaleLinear()
                 .domain([0,23963687])
                 .range([innerHeight,0]);
                 
                 
xAxis = d3.axisBottom()
          .scale(xScale);
          
yAxis = d3.axisLeft()
          .scale(yScale);
          
svg.select("g#plot")
          .selectAll("circle")
          .data(data)
          .enter()
          .append("circle")
            .attr("cx", d => xScale(d.week))
            .attr("cy", d => yScale(d.weekly_new_cases))
            .attr("r", 3)
            .on("mouseover", function(event, d) {
                var xcoord = +d3.select(event.currentTarget).attr("cx") + 5
                var ycoord = +d3.select(event.currentTarget).attr("cy") - 5
                svg.select("g#plot")
                  .append("text")
                  .attr("id", "tooltip")
                  .attr("x", xcoord)
                  .attr("y", ycoord)
                  .text( d.date_reported)                     })
             .on("mouseout", function() {
                 d3.select("#tooltip").remove();
             }
             );
      
      svg.select("g#plot")
          .append("g")
          .attr("id", "xaxis")
          .attr("transform", `translate (0, ${innerHeight})`)
          .call(xAxis);
          
      // create x-axis label
        svg.select("g#plot")
          .append("text") 
            .attr("id", "xlab")
            .attr("x", innerWidth/2)
            .attr("y", innerHeight + .75 * margin.bottom)
            .attr("text-anchor", "middle")
            .text("Weeks");
      
      svg.select("g#plot")
          .append("g")
          .call(yAxis)   
          
          
      svg.select("g#plot")
          .append("text") 
            .attr("id", "ylab")
            .attr("x", -60)
            .attr("y", innerHeight/2+20)
            .attr("text-anchor", "middle")
            .text("Cases Reported");
     
            
        
     
})
 </script>
</body>
</html>
</script>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="results.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="conclusion.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/5702-Final-Project-7/Covid-19-Data-Analysis/edit/main/interactive.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/5702-Final-Project-7/Covid-19-Data-Analysis/blob/main/interactive.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
